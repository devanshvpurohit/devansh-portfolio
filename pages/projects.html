<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects | Devansh - Engineering Benchmarks</title>
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/components.css">
    <link rel="stylesheet" href="../styles/pages/projects.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <script type="importmap">
        {
          "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.161.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.161.0/examples/jsm/"
          }
        }
    </script>
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
    <div class="noise-overlay"></div>
    <div class="background-container"
        style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: #000;"></div>
    <main style="padding-top: var(--space-12);">
        <section class="section-padding">
            <div class="container">
                <header class="section-header" style="margin-bottom: var(--space-12);">
                    <span class="badge" style="margin-bottom: var(--space-4);">Engineering Registry</span>
                    <h2 style="margin-bottom: var(--space-4);">Selected <span class="gradient-text">Productions.</span>
                    </h2>
                    <p>A hierarchy of projects from flagship systems to experimental prototypes.</p>
                </header>

                <div class="projects-container">
                    <!-- BLOCK 1: Flagship Projects -->
                    <div id="flagship-projects" class="flagship-grid">
                        <h3 class="mono"
                            style="font-size: var(--fs-xs); color: var(--primary-dark); margin-bottom: var(--space-4);">
                            // FLAGSHIP_SYSTEMS</h3>

                        <article class="card project-card flagship focus-dim-container">
                            <div class="flagship-content">
                                <span class="badge" style="margin-bottom: var(--space-3);">Security / C++</span>
                                <h3>SecureVault</h3>
                                <p style="font-size: var(--fs-lg); margin-bottom: var(--space-4);">Encrypted data
                                    storage engine for security-critical environments.</p>

                                <div class="flagship-specs">
                                    <div class="spec-item">
                                        <label>Problem</label>
                                        <p>Existing vaults suffered from high latency and metadata leakage during search
                                            operations.</p>
                                    </div>
                                    <div class="spec-item">
                                        <label>Solution</label>
                                        <p>Built a custom encrypted B-tree implementation with ORAM-inspired access
                                            patterns.</p>
                                    </div>
                                    <div class="spec-item">
                                        <label>Impact</label>
                                        <p><strong>â†“ 40% latency</strong> vs standard libsodium implementations with
                                            hardware-level protection.</p>
                                    </div>
                                </div>

                                <div style="margin-top: var(--space-6); display: flex; gap: var(--space-3);">
                                    <a href="https://github.com/devanshvpurohit/SecureVault" target="_blank"
                                        class="btn btn-primary">Source <i data-lucide="github"></i></a>
                                    <a href="project-detail.html?slug=securevault" class="btn btn-secondary">Full Case
                                        Study</a>
                                </div>
                            </div>
                            <div class="flagship-visual"
                                style="background: var(--bg); border: 1px solid var(--border-strong); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; color: var(--text-muted); font-style: italic;">
                                [ System Architecture ]
                            </div>
                        </article>
                    </div>

                    <!-- BLOCK 2: Supporting Projects -->
                    <div id="supporting-projects">
                        <h3 class="mono"
                            style="font-size: var(--fs-xs); color: var(--primary-dark); margin-bottom: var(--space-6);">
                            // SUPPORTING_WORKS</h3>
                        <div class="supporting-grid focus-dim-container" id="supporting-grid">
                            <!-- Populated via script.js -->
                        </div>
                    </div>

                    <!-- BLOCK 3: Experiments -->
                    <div class="experiments-section">
                        <details>
                            <summary
                                style="cursor: pointer; font-weight: 700; color: var(--text-muted); display: flex; align-items: center; gap: 10px;">
                                <span class="mono" style="font-size: var(--fs-xs);">// LAB_EXPERIMENTS
                                    (Collapsible)</span>
                                <i data-lucide="chevron-down" style="width: 16px;"></i>
                            </summary>
                            <div class="experiments-grid" id="experiments-grid" style="margin-top: var(--space-6);">
                                <!-- Populated via script.js -->
                            </div>
                        </details>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="../js/main.js"></script>
    <script>
        const USERNAME = 'devanshvpurohit';
        const flagshipRepos = ['SecureVault', 'ExplainCode'];
        const experimentRepos = ['ideas', 'student-link-blast'];

        async function populateProjects() {
            try {
                const res = await fetch(`https://api.github.com/users/${USERNAME}/repos?sort=updated&per_page=100`);
                const repos = await res.json();

                const supportingGrid = document.getElementById('supporting-grid');
                const experimentsGrid = document.getElementById('experiments-grid');

                repos.forEach(repo => {
                    if (flagshipRepos.includes(repo.name)) return; // Handled manually above

                    const isExperiment = experimentRepos.includes(repo.name);
                    const targetGrid = isExperiment ? experimentsGrid : supportingGrid;

                    const card = document.createElement('div');
                    card.className = isExperiment ? 'card exp-card' : 'card';
                    card.innerHTML = `
                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                            <span class="badge">${repo.language || 'Code'}</span>
                            <span><i data-lucide="star" style="width:14px"></i> ${repo.stargazers_count}</span>
                        </div>
                        <h4 style="margin-bottom: 8px;">${repo.name}</h4>
                        <p style="font-size: 14px; margin-bottom: 16px; opacity: 0.8;">${repo.description || 'System component.'}</p>
                        <a href="${repo.html_url}" target="_blank" style="font-weight: 700; color: var(--primary); font-size: 12px;">View Source <i data-lucide="arrow-right" style="width: 14px;"></i></a>
                    `;
                    targetGrid.appendChild(card);
                });
                lucide.createIcons();
            } catch (e) { console.error(e); }
        }

        populateProjects();
    </script>
    <script type="module">
        import { initBackground } from '../js/three-bg.js';
        initBackground();
    </script>
</body>

</html>